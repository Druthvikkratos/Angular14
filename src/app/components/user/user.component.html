<div class="container">
  <div class="row">
    <div class="col-sm-6">
      <h4>User Details</h4>
    </div>
    <div class="col-sm-6" style="text-align: right">
      <button
        mat-stroked-button
        color="primary"
        (click)="openPopup()"
        style="width: 10rem"
      >
        +Add User
      </button>
    </div>
  </div>
  <div class="example-table-container">
    <div class="example-header">
      <mat-form-field>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filter" />
      </mat-form-field>
    </div>
    <table
      mat-table
      [dataSource]="userDetails"
      matSort
      class="mat-elevation-z8"
      style="width: 100%"
    >
      <ng-container matColumnDef="Id">
        <th
          mat-header-cell
          class="custom-mat-header-styling tableHeaderCellDiv"
          *matHeaderCellDef
        >
          ID.
        </th>
        <td mat-cell *matCellDef="let element; let i = index">{{ i }}</td>
      </ng-container>
      <ng-container matColumnDef="Name">
        <th
          mat-header-cell
          class="custom-mat-header-styling tableHeaderCellDiv"
          *matHeaderCellDef
        >
          Name
        </th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>
      <ng-container matColumnDef="Email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>
      <ng-container matColumnDef="Role">
        <th mat-header-cell *matHeaderCellDef>Role</th>
        <td mat-cell *matCellDef="let element">{{ element.roles }}</td>
      </ng-container>
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let element; let j = index">
          <button class="edit-btn" (click)="editUser(j, element)">
            <span class="material-icons" style="color: blue">edit</span>
          </button>
          <button class="delete-btn" (click)="deleteUser(j)">
            <span class="material-icons" style="color: red">delete</span>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[10, 5, 20]"
      [pageIndex]="pageIndex"
      (page)="onPaginateChange($event)"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</div>
